<!DOCTYPE html>
<html lang=zh>
<head>
    <!-- so meta -->
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="HandheldFriendly" content="True">
    <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=5" />
    <meta name="description" content="Kotlin puzzlers 话说已经好久没写blog了呢，又是失踪人口回归，我一直觉得不能强迫自己为了写博客而写博客，总是要为了记录点什么才行，这次我就刚好见到kotlin academy发的邮件，瞥了一眼觉得很多易错的题目蛮好(鬼畜)的，就忍不住想写了blog记录一下啦。 原文地址：Kotlin Academy  以下题目的答案和解析都下一题揭晓啦（学自夜雀 逃。 Order of null">
<meta property="og:type" content="article">
<meta property="og:title" content="kotlin academy&#39;s trouble">
<meta property="og:url" content="https://louisshark.github.io/2018/06/09/kotlin-academy-s-trouble/index.html">
<meta property="og:site_name" content="LouisShark的随笔">
<meta property="og:description" content="Kotlin puzzlers 话说已经好久没写blog了呢，又是失踪人口回归，我一直觉得不能强迫自己为了写博客而写博客，总是要为了记录点什么才行，这次我就刚好见到kotlin academy发的邮件，瞥了一眼觉得很多易错的题目蛮好(鬼畜)的，就忍不住想写了blog记录一下啦。 原文地址：Kotlin Academy  以下题目的答案和解析都下一题揭晓啦（学自夜雀 逃。 Order of null">
<meta property="og:locale" content="zh_CN">
<meta property="article:published_time" content="2018-06-09T03:15:48.000Z">
<meta property="article:modified_time" content="2024-03-15T07:08:17.022Z">
<meta property="article:author" content="LouisShark">
<meta property="article:tag" content="-kotlin -易错题">
<meta name="twitter:card" content="summary">
<meta name="twitter:creator" content="@shark_louis">
    
    
      
        
          <link rel="shortcut icon" href="/images/bitbug_favicon.ico">
        
      
      
        
          <link rel="icon" type="image/png" href="/images/favicon-192x192.png" sizes="192x192">
        
      
      
        
          <link rel="apple-touch-icon" sizes="180x180" href="/images/apple-touch-icon.png">
        
      
    
    <!-- title -->
    <title>kotlin academy&#39;s trouble</title>
    <!-- async scripts -->
    <!-- Google Analytics -->


    <!-- Umami Analytics -->

    <script async defer
            data-website-id="1a5fb885-3814-4a05-ab13-f956e13fcdf8"
            src="https://analytics.us.umami.is/script.js">
    </script>


    <!-- styles -->
    
<link rel="stylesheet" href="/css/style.css">

    <!-- persian styles -->
    
    <!-- rss -->
    
    
	<!-- mathjax -->
	
		<script type="text/x-mathjax-config">
		  MathJax.Hub.Config({
			tex2jax: {
			  skipTags: ['script', 'noscript', 'style', 'textarea', 'pre'],
			  inlineMath: [['$','$']]
			}
		  });
		</script>
		<script src='https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/latest.js?config=TeX-MML-AM_CHTML' async></script>
	
<meta name="generator" content="Hexo 7.1.1"><link rel="alternate" href="/atom.xml" title="LouisShark的随笔" type="application/atom+xml">
</head>

<body class="max-width mx-auto px3 ltr">
    
      <div id="header-post">
  <a id="menu-icon" href="#" aria-label="目录"><i class="fa-solid fa-bars fa-lg"></i></a>
  <a id="menu-icon-tablet" href="#" aria-label="目录"><i class="fa-solid fa-bars fa-lg"></i></a>
  <a id="top-icon-tablet" href="#" aria-label="顶部" onclick="$('html, body').animate({ scrollTop: 0 }, 'fast');" style="display:none;"><i class="fa-solid fa-chevron-up fa-lg"></i></a>
  <span id="menu">
    <span id="nav">
      <ul>
        <!--
       --><li><a href="/">首页</a></li><!--
     --><!--
       --><li><a href="/about/">关于</a></li><!--
     --><!--
       --><li><a href="/archives/">归档</a></li><!--
     --><!--
       --><li><a href="/tags/">标签</a></li><!--
     --><!--
       --><li><a href="/search/">搜索</a></li><!--
     --><!--
       --><li><a href="https://github.com/LouisShark">项目</a></li><!--
     --><!--
       --><li><a href="https://chat.ilouis.me/">ChatGPT</a></li><!--
     -->
      </ul>
    </span>
    <br/>
    <span id="actions">
      <ul>
        
        
        <li><a class="icon" aria-label="下一篇" href="/2018/02/11/Kotlin%E7%9A%84%E6%9F%AF%E9%87%8C%E5%8C%96/"><i class="fa-solid fa-chevron-right" aria-hidden="true" onmouseover="$('#i-next').toggle();" onmouseout="$('#i-next').toggle();"></i></a></li>
        
        <li><a class="icon" aria-label="返回顶部" href="#" onclick="$('html, body').animate({ scrollTop: 0 }, 'fast');"><i class="fa-solid fa-chevron-up" aria-hidden="true" onmouseover="$('#i-top').toggle();" onmouseout="$('#i-top').toggle();"></i></a></li>
        <li><a class="icon" aria-label="分享文章" href="#"><i class="fa-solid fa-share-alt" aria-hidden="true" onmouseover="$('#i-share').toggle();" onmouseout="$('#i-share').toggle();" onclick="$('#share').toggle();return false;"></i></a></li>
      </ul>
      <span id="i-prev" class="info" style="display:none;">上一篇</span>
      <span id="i-next" class="info" style="display:none;">下一篇</span>
      <span id="i-top" class="info" style="display:none;">返回顶部</span>
      <span id="i-share" class="info" style="display:none;">分享文章</span>
    </span>
    <br/>
    <div id="share" style="display: none">
      <ul>
  <li><a class="icon" href="http://www.facebook.com/sharer.php?u=https://louisshark.github.io/2018/06/09/kotlin-academy-s-trouble/"><i class="fab fa-facebook " aria-hidden="true"></i></a></li>
  <li><a class="icon" href="https://twitter.com/share?url=https://louisshark.github.io/2018/06/09/kotlin-academy-s-trouble/&text=kotlin academy&#39;s trouble"><i class="fab fa-twitter " aria-hidden="true"></i></a></li>
  <li><a class="icon" href="http://www.linkedin.com/shareArticle?url=https://louisshark.github.io/2018/06/09/kotlin-academy-s-trouble/&title=kotlin academy&#39;s trouble"><i class="fab fa-linkedin " aria-hidden="true"></i></a></li>
  <li><a class="icon" href="https://pinterest.com/pin/create/bookmarklet/?url=https://louisshark.github.io/2018/06/09/kotlin-academy-s-trouble/&is_video=false&description=kotlin academy&#39;s trouble"><i class="fab fa-pinterest " aria-hidden="true"></i></a></li>
  <li><a class="icon" href="mailto:?subject=kotlin academy&#39;s trouble&body=Check out this article: https://louisshark.github.io/2018/06/09/kotlin-academy-s-trouble/"><i class="fa-solid fa-envelope " aria-hidden="true"></i></a></li>
  <li><a class="icon" href="https://getpocket.com/save?url=https://louisshark.github.io/2018/06/09/kotlin-academy-s-trouble/&title=kotlin academy&#39;s trouble"><i class="fab fa-get-pocket " aria-hidden="true"></i></a></li>
  <li><a class="icon" href="http://reddit.com/submit?url=https://louisshark.github.io/2018/06/09/kotlin-academy-s-trouble/&title=kotlin academy&#39;s trouble"><i class="fab fa-reddit " aria-hidden="true"></i></a></li>
  <li><a class="icon" href="http://www.stumbleupon.com/submit?url=https://louisshark.github.io/2018/06/09/kotlin-academy-s-trouble/&title=kotlin academy&#39;s trouble"><i class="fab fa-stumbleupon " aria-hidden="true"></i></a></li>
  <li><a class="icon" href="http://digg.com/submit?url=https://louisshark.github.io/2018/06/09/kotlin-academy-s-trouble/&title=kotlin academy&#39;s trouble"><i class="fab fa-digg " aria-hidden="true"></i></a></li>
  <li><a class="icon" href="http://www.tumblr.com/share/link?url=https://louisshark.github.io/2018/06/09/kotlin-academy-s-trouble/&name=kotlin academy&#39;s trouble&description=&lt;h1 id=&#34;Kotlin-puzzlers&#34;&gt;&lt;a href=&#34;#Kotlin-puzzlers&#34; class=&#34;headerlink&#34; title=&#34;Kotlin puzzlers&#34;&gt;&lt;/a&gt;Kotlin puzzlers&lt;/h1&gt;&lt;blockquote&gt;
&lt;p&gt;话说已经好久没写blog了呢，又是失踪人口回归，我一直觉得不能强迫自己为了写博客而写博客，总是要为了记录点什么才行，这次我就刚好见到kotlin academy发的邮件，瞥了一眼觉得很多易错的题目蛮好(鬼畜)的，就忍不住想写了blog记录一下啦。 &lt;strong&gt;原文地址：&lt;a href=&#34;https://kotlin-academy.herokuapp.com/#/&#34;&gt;Kotlin Academy&lt;/a&gt;&lt;/strong&gt;&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;&lt;strong&gt;以下题目的答案和解析都下一题揭晓啦（学自夜雀 逃。&lt;/strong&gt;&lt;/p&gt;
&lt;h3 id=&#34;Order-of-nullable-operators-（猫王操作符的优先级-重要提示&#34;&gt;&lt;a href=&#34;#Order-of-nullable-operators-（猫王操作符的优先级-重要提示&#34; class=&#34;headerlink&#34; title=&#34;Order of nullable operators （猫王操作符的优先级 重要提示&#34;&gt;&lt;/a&gt;Order of nullable operators （猫王操作符的优先级 &lt;em&gt;重要提示&lt;/em&gt;&lt;/h3&gt;&lt;p&gt;&lt;strong&gt;Level：Beginner&lt;/strong&gt;&lt;/p&gt;
&lt;figure class=&#34;highlight kotlin&#34;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&#34;gutter&#34;&gt;&lt;pre&gt;&lt;span class=&#34;line&#34;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;2&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;3&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;4&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;5&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;6&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;7&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&#34;code&#34;&gt;&lt;pre&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;function&#34;&gt;&lt;span class=&#34;keyword&#34;&gt;fun&lt;/span&gt; &lt;span class=&#34;title&#34;&gt;main&lt;/span&gt;&lt;span class=&#34;params&#34;&gt;(args: &lt;span class=&#34;type&#34;&gt;Array&lt;/span&gt;&amp;lt;&lt;span class=&#34;type&#34;&gt;String&lt;/span&gt;&amp;gt;)&lt;/span&gt;&lt;/span&gt; &amp;#123;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;    &lt;span class=&#34;keyword&#34;&gt;val&lt;/span&gt; x: &lt;span class=&#34;built_in&#34;&gt;Int&lt;/span&gt;? = &lt;span class=&#34;number&#34;&gt;2&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;    &lt;span class=&#34;keyword&#34;&gt;val&lt;/span&gt; y: &lt;span class=&#34;built_in&#34;&gt;Int&lt;/span&gt; = &lt;span class=&#34;number&#34;&gt;3&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;    &lt;span class=&#34;keyword&#34;&gt;val&lt;/span&gt; sum = x?:&lt;span class=&#34;number&#34;&gt;0&lt;/span&gt; + y&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;    println(sum)&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;&amp;#125;&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;

&lt;p&gt;&lt;strong&gt;What will it print ? Some possibilities:&lt;/strong&gt; &amp;#x2F;&amp;#x2F;这个不用翻译了吧…&lt;/p&gt;
&lt;p&gt;a. 3&lt;/p&gt;
&lt;p&gt;b. 5&lt;/p&gt;
&lt;p&gt;c. 2&lt;/p&gt;
&lt;p&gt;d. 0&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;Author: Thomas Nield&lt;/p&gt;
&lt;/blockquote&gt;"><i class="fab fa-tumblr " aria-hidden="true"></i></a></li>
  <li><a class="icon" href="https://news.ycombinator.com/submitlink?u=https://louisshark.github.io/2018/06/09/kotlin-academy-s-trouble/&t=kotlin academy&#39;s trouble"><i class="fab fa-hacker-news " aria-hidden="true"></i></a></li>
</ul>

    </div>
    
    
      <div id="toc">
        <ol class="toc"><li class="toc-item toc-level-1"><a class="toc-link" href="#Kotlin-puzzlers"><span class="toc-number">1.</span> <span class="toc-text">Kotlin puzzlers</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#Order-of-nullable-operators-%EF%BC%88%E7%8C%AB%E7%8E%8B%E6%93%8D%E4%BD%9C%E7%AC%A6%E7%9A%84%E4%BC%98%E5%85%88%E7%BA%A7-%E9%87%8D%E8%A6%81%E6%8F%90%E7%A4%BA"><span class="toc-number">1.0.1.</span> <span class="toc-text">Order of nullable operators （猫王操作符的优先级 重要提示</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#Contravariance-%E9%80%86%E5%8F%98"><span class="toc-number">1.0.2.</span> <span class="toc-text">Contravariance (逆变)</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#Interface-delegation-and-data-classes"><span class="toc-number">1.0.3.</span> <span class="toc-text">Interface delegation and data classes</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#WTF-with-labels"><span class="toc-number">1.0.4.</span> <span class="toc-text">WTF with labels</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#Return-in-Function-literal"><span class="toc-number">1.0.5.</span> <span class="toc-text">Return in Function literal</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#Int-plus-plus"><span class="toc-number">1.0.6.</span> <span class="toc-text">Int plus-plus</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#Function-names"><span class="toc-number">1.0.7.</span> <span class="toc-text">Function names</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#Receivers-wars"><span class="toc-number">1.0.8.</span> <span class="toc-text">Receivers wars</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#Negative-numbers"><span class="toc-number">1.0.9.</span> <span class="toc-text">Negative numbers</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#Child-apply"><span class="toc-number">1.0.10.</span> <span class="toc-text">Child apply</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#Subtypes-and-Generics-List"><span class="toc-number">1.0.11.</span> <span class="toc-text">Subtypes and Generics: List</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#Copy"><span class="toc-number">1.0.12.</span> <span class="toc-text">Copy</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#Cyclic-object-construction"><span class="toc-number">1.0.13.</span> <span class="toc-text">Cyclic object construction</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#Overriding-properties-that-are-used-in-a-parent"><span class="toc-number">1.0.14.</span> <span class="toc-text">Overriding properties that are used in a parent</span></a></li></ol></li></ol></li></ol>
      </div>
    
  </span>
</div>

    
    <div class="content index py4 ">
        
        <article class="post h-entry" itemscope itemtype="http://schema.org/BlogPosting">
  <header>
    
    <h1 class="posttitle p-name" itemprop="name headline">
        kotlin academy&#39;s trouble
    </h1>



    <div class="meta">
      <span class="author p-author h-card" itemprop="author" itemscope itemtype="http://schema.org/Person">
        <span class="p-name" itemprop="name">LouisShark</span>
      </span>
      
    <div class="postdate">
      
        <time datetime="2018-06-09T03:15:48.000Z" class="dt-published" itemprop="datePublished">2018-06-09</time>
        
        (Updated: <time datetime="2024-03-15T07:08:17.022Z" class="dt-updated" itemprop="dateModified">2024-03-15</time>)
        
      
    </div>


      

      
    <div class="article-tag">
        <i class="fa-solid fa-tag"></i>
        <a class="p-category" href="/tags/kotlin-%E6%98%93%E9%94%99%E9%A2%98/" rel="tag">-kotlin -易错题</a>
    </div>


    </div>
  </header>
  

  <div class="content e-content" itemprop="articleBody">
    <h1 id="Kotlin-puzzlers"><a href="#Kotlin-puzzlers" class="headerlink" title="Kotlin puzzlers"></a>Kotlin puzzlers</h1><blockquote>
<p>话说已经好久没写blog了呢，又是失踪人口回归，我一直觉得不能强迫自己为了写博客而写博客，总是要为了记录点什么才行，这次我就刚好见到kotlin academy发的邮件，瞥了一眼觉得很多易错的题目蛮好(鬼畜)的，就忍不住想写了blog记录一下啦。 <strong>原文地址：<a href="https://kotlin-academy.herokuapp.com/#/">Kotlin Academy</a></strong></p>
</blockquote>
<p><strong>以下题目的答案和解析都下一题揭晓啦（学自夜雀 逃。</strong></p>
<h3 id="Order-of-nullable-operators-（猫王操作符的优先级-重要提示"><a href="#Order-of-nullable-operators-（猫王操作符的优先级-重要提示" class="headerlink" title="Order of nullable operators （猫王操作符的优先级 重要提示"></a>Order of nullable operators （猫王操作符的优先级 <em>重要提示</em></h3><p><strong>Level：Beginner</strong></p>
<figure class="highlight kotlin"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">fun</span> <span class="title">main</span><span class="params">(args: <span class="type">Array</span>&lt;<span class="type">String</span>&gt;)</span></span> &#123;</span><br><span class="line">    <span class="keyword">val</span> x: <span class="built_in">Int</span>? = <span class="number">2</span></span><br><span class="line">    <span class="keyword">val</span> y: <span class="built_in">Int</span> = <span class="number">3</span></span><br><span class="line">    <span class="keyword">val</span> sum = x?:<span class="number">0</span> + y</span><br><span class="line"></span><br><span class="line">    println(sum)</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p><strong>What will it print ? Some possibilities:</strong> &#x2F;&#x2F;这个不用翻译了吧…</p>
<p>a. 3</p>
<p>b. 5</p>
<p>c. 2</p>
<p>d. 0</p>
<blockquote>
<p>Author: Thomas Nield</p>
</blockquote>
<span id="more"></span>

<hr>
<h3 id="Contravariance-逆变"><a href="#Contravariance-逆变" class="headerlink" title="Contravariance (逆变)"></a>Contravariance (逆变)</h3><p><strong>Level：Beginner</strong></p>
<figure class="highlight kotlin"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">Wrapper</span>&lt;<span class="type">in T</span>&gt;</span><br><span class="line"></span><br><span class="line"><span class="keyword">val</span> instanceVariableOne: Wrapper&lt;<span class="built_in">Nothing</span>&gt; = Wrapper&lt;Any&gt;() <span class="comment">//Line A</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">val</span> instanceVariableTwo: Wrapper&lt;Any&gt; = Wrapper&lt;<span class="built_in">Nothing</span>&gt;() <span class="comment">//Line B</span></span><br></pre></td></tr></table></figure>

<p><strong>What does it display? Some possibilities:</strong></p>
<p>a. Both lines A and B compile.</p>
<p>b. Lines A and B do not compile.</p>
<p>c. Line A compiles;Line B does not.</p>
<p>d. Line B compiles;Line A does not.</p>
<blockquote>
<p>Author：Allan Caine</p>
</blockquote>
<p><strong>上题答案：</strong></p>
<p>c. 2</p>
<p><strong>解析：</strong></p>
<blockquote>
<p>Elvis operator(猫王操作符，我脑补)，比<code>+</code>具有更低优先级的操作符，所以 <code>+</code>会先被计算，</p>
<p>即 sum &#x3D; x ?: ( 0 + y) &#x3D; x ?: 3  &#x3D;  2, 使用小括号可以正确计算。</p>
</blockquote>
<hr>
<h3 id="Interface-delegation-and-data-classes"><a href="#Interface-delegation-and-data-classes" class="headerlink" title="Interface delegation and data classes"></a>Interface delegation and data classes</h3><p><strong>Level：Expert</strong></p>
<figure class="highlight kotlin"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">data</span> <span class="keyword">class</span> <span class="title class_">Container</span>(</span><br><span class="line">	<span class="keyword">val</span> name: String,</span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">val</span> items: List&lt;<span class="built_in">Int</span>&gt;</span><br><span class="line">) : List&lt;<span class="built_in">Int</span>&gt; <span class="keyword">by</span> items</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">fun</span> <span class="title">main</span><span class="params">(args: <span class="type">Array</span>&lt;<span class="type">String</span>&gt;)</span></span> &#123;</span><br><span class="line">    <span class="keyword">val</span> (name, items) = Container(<span class="string">&quot;Kotlin&quot;</span>, listOf(<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>))</span><br><span class="line">    println(<span class="string">&quot;Hello <span class="variable">$name</span>, <span class="variable">$items</span>&quot;</span>)</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<p><strong>What will it print? Some possibilities:</strong></p>
<p>a. Hello Kotlin,[1, 2, 3]</p>
<p>b. Hello Kotlin, 1</p>
<p>c. Hello 1, 2</p>
<p>d. Hello Kotlin, 2</p>
<blockquote>
<p>Author: Nikolas Havrikov</p>
</blockquote>
<p><strong>上题答案：</strong></p>
<p>c. Line A compiles;Line B does not.</p>
<p><strong>解析：</strong></p>
<blockquote>
<p><code>Wrapper&lt;in T&gt;</code> 中的<code>T</code>是逆变的。 <code>Wrapper </code>的类型应该与<code>T</code>的子类型相反，即 <code>super T</code>。</p>
<p>因为<code>Nothing</code>是<code>Any</code>的子类型(注:Nothing 是其他所有类型的子类型)，所以<code>Wrapper&lt;Any&gt;</code> 是<code>Wrapper&lt;Nothing&gt;</code>的子类型。</p>
<p>Line A compiles。他将一个子类型赋值给超类。</p>
<p>Line B does not compile。 他将一个超类赋值给子类。</p>
</blockquote>
<hr>
<h3 id="WTF-with-labels"><a href="#WTF-with-labels" class="headerlink" title="WTF with labels"></a>WTF with labels</h3><p><strong>Level：Advanced</strong></p>
<figure class="highlight kotlin"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">fun</span> <span class="title">main</span><span class="params">(args: <span class="type">Array</span>&lt;<span class="type">String</span>&gt;)</span></span> &#123;</span><br><span class="line">    <span class="keyword">val</span> j = <span class="symbol">wtf@</span>&#123; n: <span class="built_in">Int</span> -&gt;</span><br><span class="line">        <span class="symbol">wtf@</span>(<span class="symbol">wtf@</span>n + <span class="symbol">wtf@</span><span class="number">2</span>)</span><br><span class="line">    &#125;(<span class="number">10</span>)</span><br><span class="line">    print(j)</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p><strong>What does it display? Some possibilities:</strong></p>
<p>a. It won’t compile</p>
<p>b. 10</p>
<p>c. 2</p>
<p>d. 12</p>
<blockquote>
<p>Author: Dmitry Kandaloy</p>
</blockquote>
<p><strong>上题答案：</strong></p>
<p>d. Hello Kotlin, 2</p>
<p><strong>解析：</strong></p>
<blockquote>
<p><code>private val items</code>使<code>Container.component2()</code> 私有化。</p>
<p><code>public List&lt;T&gt;.component2()</code>定义在kotlin-stdlib中的扩展函数。</p>
<p><code>Container</code>用by delegation的方式实现了接口<code>List&lt;Int&gt;</code>，因此调用了上面的扩展函数。</p>
<p>所以，(name, items)解构后第二个参数就是伪代码就是listOf(1, 2, 3).component2()</p>
<p>你可以在JB的issue tracker中找到以下讨论：</p>
<p><a href="https://youtrack.jetbrains.com/issue/KT-24308">https://youtrack.jetbrains.com/issue/KT-24308</a></p>
</blockquote>
<hr>
<h3 id="Return-in-Function-literal"><a href="#Return-in-Function-literal" class="headerlink" title="Return in Function literal"></a>Return in Function literal</h3><p><strong>Level：Beginner</strong></p>
<figure class="highlight kotlin"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">fun</span> <span class="title">f1</span><span class="params">()</span></span> &#123;</span><br><span class="line">    (<span class="number">1.</span><span class="number">.4</span>).forEach&#123;</span><br><span class="line">        <span class="keyword">if</span> (it == <span class="number">2</span>) <span class="keyword">return</span></span><br><span class="line">        println(it)</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">fun</span> <span class="title">f2</span><span class="params">()</span></span> &#123;</span><br><span class="line">    (<span class="number">1.</span><span class="number">.4</span>).forEach(<span class="function"><span class="title">fun</span><span class="params">(it)</span></span> &#123;</span><br><span class="line">        <span class="keyword">if</span> (it == <span class="number">2</span>) <span class="keyword">return</span></span><br><span class="line">        println(it)</span><br><span class="line">    &#125;)</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">fun</span> <span class="title">main</span><span class="params">(args: <span class="type">Array</span>&lt;<span class="type">String</span>&gt;)</span></span> &#123;</span><br><span class="line">    f1()</span><br><span class="line">    f2()</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p><strong>What does it display? Some possibilities:</strong></p>
<p>a. 134134</p>
<p>b. 1134</p>
<p>c. 1341</p>
<p>d. Doesn’t compile.</p>
<blockquote>
<p>Author: Marcin Moskala</p>
</blockquote>
<p><strong>上题答案：</strong></p>
<p>d. 12</p>
<p><strong>解析：</strong></p>
<blockquote>
<p>哈哈哈，这就是一个很普通的lambda表达式加上一堆的label啦。别想多</p>
</blockquote>
<hr>
<h3 id="Int-plus-plus"><a href="#Int-plus-plus" class="headerlink" title="Int plus-plus"></a>Int plus-plus</h3><p><strong>Level：Beginner</strong></p>
<figure class="highlight kotlin"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">fun</span> <span class="title">main</span><span class="params">(args: <span class="type">Array</span>&lt;<span class="type">String</span>&gt;)</span></span> &#123;</span><br><span class="line">    <span class="keyword">var</span> i = <span class="number">0</span></span><br><span class="line">    println(i.inc())</span><br><span class="line">    println(i.inc())</span><br><span class="line"></span><br><span class="line">    <span class="keyword">var</span> j = <span class="number">0</span></span><br><span class="line">    println(j++)</span><br><span class="line">    println(++j)</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p><strong>What does it display? Some possibilities:</strong></p>
<p>a. 0, 1, 0, 1</p>
<p>b. 0, 1, 0, 2</p>
<p>c. 1, 1, 0, 2</p>
<p>d. 1, 2, 0, 2</p>
<blockquote>
<p>Author: Dmitry Kandalov</p>
</blockquote>
<p><strong>上题答案：</strong></p>
<p>b. 1134</p>
<p><strong>解析：</strong></p>
<blockquote>
<p>当我们想要在lambda表达式中使用<code>return</code>即从闭包返回的时候，我们需要使用label标签，譬如<code>return@forEach</code>.</p>
<p>因为<code>for-each</code>是内联函数同时允许非局部返回，所以<code>return</code>就会结束<code>f1</code>方法。</p>
</blockquote>
<hr>
<h3 id="Function-names"><a href="#Function-names" class="headerlink" title="Function names"></a>Function names</h3><p><strong>Level：Expert</strong></p>
<figure class="highlight kotlin"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">fun</span> ``<span class="params">()</span></span> &#123;&#125;</span><br><span class="line"><span class="function"><span class="keyword">fun</span> ` `<span class="params">()</span></span> &#123;&#125;</span><br><span class="line"><span class="function"><span class="keyword">fun</span> `everything works.`<span class="params">()</span></span> &#123;&#125;</span><br><span class="line"><span class="function"><span class="keyword">fun</span> `1/1/ <span class="keyword">is</span> ok; 1/0 <span class="keyword">is</span> an error`<span class="params">()</span></span>&#123;&#125;</span><br></pre></td></tr></table></figure>

<p><strong>Which functions have acceptable names? Some possibilities:</strong></p>
<p>a. ok; ok; ok; ok</p>
<p>b. error; ok; ok;  error;</p>
<p>c. error; ok; error; error;</p>
<p>d. error; error; error; error;</p>
<blockquote>
<p>Author: Dmitry Kandalov</p>
</blockquote>
<p><strong>上题答案：</strong></p>
<p>c. 1, 1, 0, 2</p>
<p><strong>解析：</strong></p>
<blockquote>
<p>前缀++（++j）增加数值并且返回增加后新的值，但是后缀++（i++）虽然同样增加数值但<strong>它返回的是未增加老的值</strong>。</p>
<p>本题带有迷惑的地方是kotlin函数<code>inc()</code>的前缀和后缀.详细请看</p>
<p><a href="https://www.kotlincn.net/docs/reference/operator-overloading.html#%E9%80%92%E5%A2%9E%E4%B8%8E%E9%80%92%E5%87%8F">递增和递减</a></p>
</blockquote>
<hr>
<h3 id="Receivers-wars"><a href="#Receivers-wars" class="headerlink" title="Receivers wars"></a>Receivers wars</h3><p><strong>Level：Advanced</strong></p>
<figure class="highlight kotlin"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">fun</span> <span class="title">foo</span><span class="params">()</span></span> &#123;</span><br><span class="line">    println(<span class="string">&quot;Top-level rule&quot;</span>)</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">class</span> <span class="title class_">Foo</span> &#123;</span><br><span class="line">    <span class="function"><span class="keyword">fun</span> <span class="title">foo</span><span class="params">()</span></span> &#123;</span><br><span class="line">        println(<span class="string">&quot;Extension receiver rule&quot;</span>)</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">class</span> <span class="title class_">Test</span> &#123;</span><br><span class="line">    <span class="function"><span class="keyword">fun</span> <span class="title">foo</span><span class="params">()</span></span> &#123;</span><br><span class="line">        println(<span class="string">&quot;Dispatch receiver rule&quot;</span>)</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="function"><span class="keyword">fun</span> Foo.<span class="title">foo</span><span class="params">()</span></span> &#123;</span><br><span class="line">        println(<span class="string">&quot;Member extension function rule&quot;</span>)</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="function"><span class="keyword">fun</span> Foo.<span class="title">test</span><span class="params">()</span></span> &#123;</span><br><span class="line">        foo()</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="function"><span class="keyword">fun</span> <span class="title">testFoo</span><span class="params">()</span></span> &#123;</span><br><span class="line">        Foo().test()</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">fun</span> <span class="title">main</span><span class="params">(args: <span class="type">Array</span>&lt;<span class="type">String</span>&gt;)</span></span> &#123;</span><br><span class="line">    Test().testFoo()</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p><strong>Which does it display? Some possibilities:</strong></p>
<p>a. Top-level rule</p>
<p>b. Extension receiver rule</p>
<p>c. Dispatch receiver rule</p>
<p>d. Member extension function rule</p>
<blockquote>
<p>Author: Marcin Moskalatma</p>
</blockquote>
<p><strong>上题答案：</strong></p>
<p>c. error; ok; error; error;</p>
<p><strong>解析：</strong></p>
<blockquote>
<ol>
<li>:声明必须要有名字</li>
<li>:Ok</li>
<li>和 4. : 命名包含非法字符，”,”  “;” 和 “&#x2F;“</li>
</ol>
</blockquote>
<hr>
<h3 id="Negative-numbers"><a href="#Negative-numbers" class="headerlink" title="Negative numbers"></a>Negative numbers</h3><p><strong>Level：Advanced</strong></p>
<figure class="highlight kotlin"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">fun</span> <span class="title">main</span><span class="params">(args: <span class="type">Array</span>&lt;<span class="type">String</span>&gt;)</span></span> &#123;</span><br><span class="line">    println(-<span class="number">1.</span>inc())</span><br><span class="line">    println(<span class="string">&quot;, &quot;</span>)</span><br><span class="line">    println(<span class="number">1</span> + -(<span class="number">1</span>))</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p><strong>Which does it display? Some possibilities:</strong></p>
<p>a. 0, 0</p>
<p>b. Won’t compile in line 4</p>
<p>c. 0, 2</p>
<p>d. -2, 0</p>
<blockquote>
<p>Author: Marcin Moskala</p>
</blockquote>
<p><strong>上题答案：</strong></p>
<p>b. Extension receiver rule</p>
<p><strong>解析：</strong></p>
<blockquote>
<p>当我们有一个扩展接收者(Foo)时，接收者的方法(method)要优先于同class内的其他函数。</p>
<p>不可能会打印“Member extension function rule”,因为当方法(method)和扩展函数(extension function)有冲突时，方法(method)总是胜利。</p>
</blockquote>
<hr>
<h3 id="Child-apply"><a href="#Child-apply" class="headerlink" title="Child apply"></a>Child apply</h3><p><strong>Level：Advanced</strong></p>
<figure class="highlight kotlin"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">open</span> <span class="keyword">class</span> <span class="title class_">Node</span>(<span class="keyword">val</span> name: String) &#123;</span><br><span class="line">    <span class="function"><span class="keyword">fun</span> <span class="title">lookup</span><span class="params">()</span></span> = <span class="string">&quot;lookup in: <span class="variable">$name</span>&quot;</span></span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">class</span> <span class="title class_">Example</span>: <span class="type">Node</span>(<span class="string">&quot;container&quot;</span>) &#123;</span><br><span class="line">    <span class="function"><span class="keyword">fun</span> <span class="title">createChild</span><span class="params">(name: <span class="type">String</span>)</span></span>: Node? = Node(name)</span><br><span class="line">    <span class="keyword">val</span> child1 = createChild(<span class="string">&quot;child1&quot;</span>)?.apply &#123;</span><br><span class="line">        println(<span class="string">&quot;child1 <span class="subst">$&#123;lookup()&#125;</span>&quot;</span>)</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">val</span> child2 = createChild(<span class="string">&quot;child2&quot;</span>).apply &#123;</span><br><span class="line">        println(<span class="string">&quot;child2 <span class="subst">$&#123;lookup()&#125;</span>&quot;</span>)</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">fun</span> <span class="title">main</span><span class="params">(args: <span class="type">Array</span>&lt;<span class="type">String</span>&gt;)</span></span> &#123;</span><br><span class="line">    Example()</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p><strong>Which does it display? Some possibilities:</strong></p>
<p>a. child1 lookup in: child1;child2 lookup in : child2</p>
<p>b. child1 lookup in: child1;child2 lookup in : container</p>
<p>c. child1 lookup in: container;child2 lookup in : child2</p>
<p>d. none of the above</p>
<blockquote>
<p>Author: Dmitry Kandalov</p>
</blockquote>
<p><strong>上题答案：</strong></p>
<p>d. -2, 0</p>
<p><strong>解析：</strong></p>
<blockquote>
<p>这两种情况我们都给<code>Int</code>使用了前缀减(<code>unaryMinus()</code>)操作符，<code>-1</code>和<code>1.unaryMinux()</code>是相等的。这就是为什么<code>1+ -(1)</code>是正常的。</p>
<p><code>-1.inc()</code>返回 <code>-2</code>是因为<code>inc</code>是先使用的操作符，这表达式和<code>1.inc().unaryMinus()</code>是相等的.</p>
<p>可以加括号来解决此问题，<code>(-1).inc()</code>。</p>
</blockquote>
<hr>
<h3 id="Subtypes-and-Generics-List"><a href="#Subtypes-and-Generics-List" class="headerlink" title="Subtypes and Generics: List"></a>Subtypes and Generics: List</h3><p><strong>Level：Advanced</strong></p>
<figure class="highlight kotlin"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">sealed</span> <span class="keyword">class</span> <span class="title class_">LinkedList</span>&lt;<span class="type">T</span>&gt;</span><br><span class="line"><span class="keyword">data</span> <span class="keyword">class</span> <span class="title class_">Node</span>&lt;<span class="type">T</span>&gt;(</span><br><span class="line">    <span class="keyword">val</span> payload: T,</span><br><span class="line">    <span class="keyword">var</span> next: LinkedList&lt;T&gt; = EmptyList</span><br><span class="line">) : LinkedList&lt;T&gt;()</span><br><span class="line"><span class="keyword">object</span> EmptyList : LinkedList&lt;<span class="built_in">Nothing</span>&gt;()</span><br></pre></td></tr></table></figure>

<p><strong>Will it compile?If not, what do I need to do? Some possibilities:</strong></p>
<p>a. Looks great.This code will compile as is.</p>
<p>b. A sealed class cannot have a type parameter.</p>
<p>c. Write sealed class LinkedList<in T>.</p>
<p>d. Write sealed class LinkedList<out T></p>
<blockquote>
<p>Author: Allan Caine</p>
</blockquote>
<p><strong>上题答案：</strong></p>
<p>b. child1 lookup in: child1;child2 lookup in : container</p>
<p><strong>解析：</strong></p>
<blockquote>
<p><code>createChild</code> 返回一个可空的对象，所以<code>child2</code>的<code>apply </code>的接收者是<code>Node？</code>。</p>
<p>我们不能在未解包的情况下直接调用<code>lookup</code>.如果想要调用则应该使用<code>this?.lookup()</code>。</p>
<p>因为没有这样做，编辑器会找他能使用的<code>lookup</code>方法，即<code>Example</code>的上下文的lookup。</p>
</blockquote>
<hr>
<h3 id="Copy"><a href="#Copy" class="headerlink" title="Copy"></a>Copy</h3><p><strong>Level：Advanced</strong></p>
<figure class="highlight kotlin"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">data</span> <span class="keyword">class</span> <span class="title class_">Container</span>(<span class="keyword">val</span> list: MutableList&lt;String&gt;)</span><br><span class="line"><span class="function"><span class="keyword">fun</span> <span class="title">main</span><span class="params">(args: <span class="type">Array</span>&lt;<span class="type">String</span>&gt;)</span></span> &#123;</span><br><span class="line">    <span class="keyword">val</span> list = mutableListOf(<span class="string">&quot;one&quot;</span>, <span class="string">&quot;two&quot;</span>)</span><br><span class="line">    <span class="keyword">val</span> c1 = Container(list)</span><br><span class="line">    <span class="keyword">val</span> c2 = c1.copy()</span><br><span class="line">    list += <span class="string">&quot;oops&quot;</span></span><br><span class="line">    println(c2.list.joinToString())</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p><strong>What does it display? Some possibilities:</strong></p>
<p>a. one, two.</p>
<p>b. one,two,oops</p>
<p>c. UnsupportedOperationException</p>
<p>d. will not compile</p>
<blockquote>
<p>Author: Anton Keks</p>
</blockquote>
<p><strong>上题答案：</strong></p>
<p>d. Write sealed class LinkedList<out T></p>
<p><strong>解析：</strong></p>
<blockquote>
<p>目前所写的代码不能正确编译。<code>Node&lt;T&gt;</code>的属性<code>next</code>不能给<code>EmptyList</code>的默认值。</p>
<p><code>LinkedList&lt;T&gt;</code>对于泛型<code>T</code>是不变的。而<code>EmptyList</code>是<code>LinkedList&lt;Nothing&gt;</code>。无论<code>T</code>的类型是什么<code>LinkedList&lt;Nothing&gt;</code>都是唯一类型。</p>
<p>而只要使<code>LinkedList</code>关于<code>T</code>协变，即使<code>LinkedList&lt;Nothing&gt;</code>是每个<code>LinkedList</code>的子类型，因为<code>Nothing</code>是任意类型的子类型。</p>
<p>密封类可以有类型参数(type parameters). Kotlin <code>object</code>不能有类型参数(type parameters). 所以b错</p>
<p>如果LinkedList是逆变的，<code>LinkedList&lt;Nothing&gt;</code>就变成所有LinkedList的父类型。然而本题要求的是子类型</p>
<p>更多解释可以参考：</p>
<p><a href="https://blog.kotlin-academy.com/kotlins-nothing-its-usefulness-in-generics-5076a6a457f7">https://blog.kotlin-academy.com/kotlins-nothing-its-usefulness-in-generics-5076a6a457f7</a></p>
</blockquote>
<hr>
<h3 id="Cyclic-object-construction"><a href="#Cyclic-object-construction" class="headerlink" title="Cyclic object construction"></a>Cyclic object construction</h3><p><strong>Level：Expert</strong></p>
<figure class="highlight kotlin"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">open</span> <span class="keyword">class</span> <span class="title class_">A</span>(<span class="keyword">val</span> x: Any?)</span><br><span class="line"><span class="keyword">object</span> B : A(C)</span><br><span class="line"><span class="keyword">object</span> C : A(B)</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">fun</span> <span class="title">main</span><span class="params">(args: <span class="type">Array</span>&lt;<span class="type">String</span>&gt;)</span></span> &#123;</span><br><span class="line">    println(B.x)</span><br><span class="line">    println(C.x)</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p><strong>What does it print? Some possibilities:</strong></p>
<p>a. null; null</p>
<p>b.C@2de80c; null</p>
<p>c. ExceptionInInitializerError</p>
<p>d. will not compile</p>
<blockquote>
<p>Author: Hiroshi Kurokawa</p>
</blockquote>
<p><strong>上题答案：</strong></p>
<p>b. one,two,oops</p>
<p><strong>解析：</strong></p>
<blockquote>
<p>data class的copy方法是一个浅拷贝(仅复制字段的引用)。使得data class immutable</p>
<p>来避免此类问题。</p>
</blockquote>
<hr>
<h3 id="Overriding-properties-that-are-used-in-a-parent"><a href="#Overriding-properties-that-are-used-in-a-parent" class="headerlink" title="Overriding properties that are used in a parent"></a>Overriding properties that are used in a parent</h3><p><strong>Level：Expert</strong></p>
<figure class="highlight kotlin"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">open</span> <span class="keyword">class</span> <span class="title class_">Parent</span>(<span class="keyword">open</span> <span class="keyword">val</span> a: String) &#123;</span><br><span class="line">    <span class="keyword">init</span> &#123; print(a) &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">class</span> <span class="title class_">Children</span>(<span class="keyword">override</span> <span class="keyword">val</span> a: String): Parent(a)</span><br><span class="line"><span class="function"><span class="keyword">fun</span> <span class="title">main</span><span class="params">(args: <span class="type">Array</span>&lt;<span class="type">String</span>&gt;)</span></span> &#123;</span><br><span class="line">    Children(<span class="string">&quot;abc&quot;</span>)</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p><strong>What will it print? Some possibilities:</strong></p>
<p>a. abc</p>
<p>b.Unresolved reference: a</p>
<p>c.Nothing,it won’t compile</p>
<p>d. null</p>
<p><strong>上题答案：</strong></p>
<p>b.C@2de80c; null</p>
<p><strong>解析：</strong></p>
<blockquote>
<p>Singleton对象的初始化顺序是通过尝试按照他们的依赖关系进行拓扑排序来确定的。</p>
<p>在初始化周期的情况下，完整的拓扑排序是不可能的，并且有可能观察循环中涉及的对象的值为null，</p>
<p>如果将此值传递给期望不可为空类型的函数，则可能导致异常</p>
<p>如果A的构造函数取非空的参数，就会抛出异常</p>
<p><code>B</code> 初始化需要 <code>C</code>，<code>C</code> 初始化需要 <code>B</code>。咦，<code>B</code> 还没初始化完成呢，那么哪来的 <code>B</code> 呢，只能是 <code>null</code> 了啊！ 取自<a href="https://aisia.moe/2017/12/28/kotlin-puzzlers/">夜雀</a>博客</p>
<p>参考链接：<a href="http://jetbrains.github.io/kotlin-spec/#_singleton_objects">http://jetbrains.github.io/kotlin-spec/#_singleton_objects</a></p>
</blockquote>
<p><strong>本题答案：</strong></p>
<p>d. null</p>
<p><strong>解析：</strong></p>
<blockquote>
<p>这是kotlin的implement已知的最大问题，请看一下java代码</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">class</span> <span class="title class_">Parent</span>&#123;</span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">final</span> String a;</span><br><span class="line">    <span class="keyword">public</span> String <span class="title function_">getA</span><span class="params">()</span>&#123;</span><br><span class="line">		<span class="keyword">return</span> <span class="built_in">this</span>.a;</span><br><span class="line">    &#125;</span><br><span class="line">    Parent(String a) &#123;</span><br><span class="line">        <span class="built_in">super</span>();</span><br><span class="line">        <span class="built_in">this</span>.a = a;</span><br><span class="line">        System.out.print(<span class="built_in">this</span>.getA());</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">final</span> <span class="keyword">class</span> <span class="title class_">B</span> <span class="keyword">extends</span> <span class="title class_">Parent</span> &#123;</span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">final</span> String a;</span><br><span class="line">    <span class="keyword">public</span> String <span class="title function_">getA</span><span class="params">()</span> &#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="built_in">this</span>.a;</span><br><span class="line">    &#125;</span><br><span class="line">    B(String a) &#123;</span><br><span class="line">        <span class="built_in">super</span>(a);</span><br><span class="line">        <span class="built_in">this</span>.a = a;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>正如你所看到的，使用<code>getA</code>方法来获得a，唯一的问题是a被重写在<code>Child</code> 它实际上是引用<code>Child</code>里的<code>a</code>，那时候还没被赋值，因为parent总是被先初始化。</p>
<p>在kotlin&#x2F;js 也有相同的问题，结果是<code>undefined</code>。</p>
</blockquote>
<hr>
<p>题目太多了，也就不全部摘写完了，想看的同学去<a href="https://github.com/angryziber/kotlin-puzzlers/">这里</a>看，好了写完了溜了。</p>

  </div>
</article>

    <div class="blog-post-comments">
        <div id="disqus_thread">
            <noscript>加载评论需要在浏览器启用 JavaScript 脚本支持。</noscript>
        </div>
    </div>



        
          <div id="footer-post-container">
  <div id="footer-post">

    <div id="nav-footer" style="display: none">
      <ul>
        
          <li><a href="/">首页</a></li>
        
          <li><a href="/about/">关于</a></li>
        
          <li><a href="/archives/">归档</a></li>
        
          <li><a href="/tags/">标签</a></li>
        
          <li><a href="/search/">搜索</a></li>
        
          <li><a href="https://github.com/LouisShark">项目</a></li>
        
          <li><a href="https://chat.ilouis.me/">ChatGPT</a></li>
        
      </ul>
    </div>

    
    
      <div id="toc-footer" style="display: none">
        <ol class="toc"><li class="toc-item toc-level-1"><a class="toc-link" href="#Kotlin-puzzlers"><span class="toc-number">1.</span> <span class="toc-text">Kotlin puzzlers</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#Order-of-nullable-operators-%EF%BC%88%E7%8C%AB%E7%8E%8B%E6%93%8D%E4%BD%9C%E7%AC%A6%E7%9A%84%E4%BC%98%E5%85%88%E7%BA%A7-%E9%87%8D%E8%A6%81%E6%8F%90%E7%A4%BA"><span class="toc-number">1.0.1.</span> <span class="toc-text">Order of nullable operators （猫王操作符的优先级 重要提示</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#Contravariance-%E9%80%86%E5%8F%98"><span class="toc-number">1.0.2.</span> <span class="toc-text">Contravariance (逆变)</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#Interface-delegation-and-data-classes"><span class="toc-number">1.0.3.</span> <span class="toc-text">Interface delegation and data classes</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#WTF-with-labels"><span class="toc-number">1.0.4.</span> <span class="toc-text">WTF with labels</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#Return-in-Function-literal"><span class="toc-number">1.0.5.</span> <span class="toc-text">Return in Function literal</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#Int-plus-plus"><span class="toc-number">1.0.6.</span> <span class="toc-text">Int plus-plus</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#Function-names"><span class="toc-number">1.0.7.</span> <span class="toc-text">Function names</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#Receivers-wars"><span class="toc-number">1.0.8.</span> <span class="toc-text">Receivers wars</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#Negative-numbers"><span class="toc-number">1.0.9.</span> <span class="toc-text">Negative numbers</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#Child-apply"><span class="toc-number">1.0.10.</span> <span class="toc-text">Child apply</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#Subtypes-and-Generics-List"><span class="toc-number">1.0.11.</span> <span class="toc-text">Subtypes and Generics: List</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#Copy"><span class="toc-number">1.0.12.</span> <span class="toc-text">Copy</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#Cyclic-object-construction"><span class="toc-number">1.0.13.</span> <span class="toc-text">Cyclic object construction</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#Overriding-properties-that-are-used-in-a-parent"><span class="toc-number">1.0.14.</span> <span class="toc-text">Overriding properties that are used in a parent</span></a></li></ol></li></ol></li></ol>
      </div>
    

    <div id="share-footer" style="display: none">
      <ul>
  <li><a class="icon" href="http://www.facebook.com/sharer.php?u=https://louisshark.github.io/2018/06/09/kotlin-academy-s-trouble/"><i class="fab fa-facebook fa-lg" aria-hidden="true"></i></a></li>
  <li><a class="icon" href="https://twitter.com/share?url=https://louisshark.github.io/2018/06/09/kotlin-academy-s-trouble/&text=kotlin academy&#39;s trouble"><i class="fab fa-twitter fa-lg" aria-hidden="true"></i></a></li>
  <li><a class="icon" href="http://www.linkedin.com/shareArticle?url=https://louisshark.github.io/2018/06/09/kotlin-academy-s-trouble/&title=kotlin academy&#39;s trouble"><i class="fab fa-linkedin fa-lg" aria-hidden="true"></i></a></li>
  <li><a class="icon" href="https://pinterest.com/pin/create/bookmarklet/?url=https://louisshark.github.io/2018/06/09/kotlin-academy-s-trouble/&is_video=false&description=kotlin academy&#39;s trouble"><i class="fab fa-pinterest fa-lg" aria-hidden="true"></i></a></li>
  <li><a class="icon" href="mailto:?subject=kotlin academy&#39;s trouble&body=Check out this article: https://louisshark.github.io/2018/06/09/kotlin-academy-s-trouble/"><i class="fa-solid fa-envelope fa-lg" aria-hidden="true"></i></a></li>
  <li><a class="icon" href="https://getpocket.com/save?url=https://louisshark.github.io/2018/06/09/kotlin-academy-s-trouble/&title=kotlin academy&#39;s trouble"><i class="fab fa-get-pocket fa-lg" aria-hidden="true"></i></a></li>
  <li><a class="icon" href="http://reddit.com/submit?url=https://louisshark.github.io/2018/06/09/kotlin-academy-s-trouble/&title=kotlin academy&#39;s trouble"><i class="fab fa-reddit fa-lg" aria-hidden="true"></i></a></li>
  <li><a class="icon" href="http://www.stumbleupon.com/submit?url=https://louisshark.github.io/2018/06/09/kotlin-academy-s-trouble/&title=kotlin academy&#39;s trouble"><i class="fab fa-stumbleupon fa-lg" aria-hidden="true"></i></a></li>
  <li><a class="icon" href="http://digg.com/submit?url=https://louisshark.github.io/2018/06/09/kotlin-academy-s-trouble/&title=kotlin academy&#39;s trouble"><i class="fab fa-digg fa-lg" aria-hidden="true"></i></a></li>
  <li><a class="icon" href="http://www.tumblr.com/share/link?url=https://louisshark.github.io/2018/06/09/kotlin-academy-s-trouble/&name=kotlin academy&#39;s trouble&description=&lt;h1 id=&#34;Kotlin-puzzlers&#34;&gt;&lt;a href=&#34;#Kotlin-puzzlers&#34; class=&#34;headerlink&#34; title=&#34;Kotlin puzzlers&#34;&gt;&lt;/a&gt;Kotlin puzzlers&lt;/h1&gt;&lt;blockquote&gt;
&lt;p&gt;话说已经好久没写blog了呢，又是失踪人口回归，我一直觉得不能强迫自己为了写博客而写博客，总是要为了记录点什么才行，这次我就刚好见到kotlin academy发的邮件，瞥了一眼觉得很多易错的题目蛮好(鬼畜)的，就忍不住想写了blog记录一下啦。 &lt;strong&gt;原文地址：&lt;a href=&#34;https://kotlin-academy.herokuapp.com/#/&#34;&gt;Kotlin Academy&lt;/a&gt;&lt;/strong&gt;&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;&lt;strong&gt;以下题目的答案和解析都下一题揭晓啦（学自夜雀 逃。&lt;/strong&gt;&lt;/p&gt;
&lt;h3 id=&#34;Order-of-nullable-operators-（猫王操作符的优先级-重要提示&#34;&gt;&lt;a href=&#34;#Order-of-nullable-operators-（猫王操作符的优先级-重要提示&#34; class=&#34;headerlink&#34; title=&#34;Order of nullable operators （猫王操作符的优先级 重要提示&#34;&gt;&lt;/a&gt;Order of nullable operators （猫王操作符的优先级 &lt;em&gt;重要提示&lt;/em&gt;&lt;/h3&gt;&lt;p&gt;&lt;strong&gt;Level：Beginner&lt;/strong&gt;&lt;/p&gt;
&lt;figure class=&#34;highlight kotlin&#34;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&#34;gutter&#34;&gt;&lt;pre&gt;&lt;span class=&#34;line&#34;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;2&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;3&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;4&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;5&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;6&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;7&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&#34;code&#34;&gt;&lt;pre&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;function&#34;&gt;&lt;span class=&#34;keyword&#34;&gt;fun&lt;/span&gt; &lt;span class=&#34;title&#34;&gt;main&lt;/span&gt;&lt;span class=&#34;params&#34;&gt;(args: &lt;span class=&#34;type&#34;&gt;Array&lt;/span&gt;&amp;lt;&lt;span class=&#34;type&#34;&gt;String&lt;/span&gt;&amp;gt;)&lt;/span&gt;&lt;/span&gt; &amp;#123;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;    &lt;span class=&#34;keyword&#34;&gt;val&lt;/span&gt; x: &lt;span class=&#34;built_in&#34;&gt;Int&lt;/span&gt;? = &lt;span class=&#34;number&#34;&gt;2&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;    &lt;span class=&#34;keyword&#34;&gt;val&lt;/span&gt; y: &lt;span class=&#34;built_in&#34;&gt;Int&lt;/span&gt; = &lt;span class=&#34;number&#34;&gt;3&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;    &lt;span class=&#34;keyword&#34;&gt;val&lt;/span&gt; sum = x?:&lt;span class=&#34;number&#34;&gt;0&lt;/span&gt; + y&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;    println(sum)&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;&amp;#125;&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;

&lt;p&gt;&lt;strong&gt;What will it print ? Some possibilities:&lt;/strong&gt; &amp;#x2F;&amp;#x2F;这个不用翻译了吧…&lt;/p&gt;
&lt;p&gt;a. 3&lt;/p&gt;
&lt;p&gt;b. 5&lt;/p&gt;
&lt;p&gt;c. 2&lt;/p&gt;
&lt;p&gt;d. 0&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;Author: Thomas Nield&lt;/p&gt;
&lt;/blockquote&gt;"><i class="fab fa-tumblr fa-lg" aria-hidden="true"></i></a></li>
  <li><a class="icon" href="https://news.ycombinator.com/submitlink?u=https://louisshark.github.io/2018/06/09/kotlin-academy-s-trouble/&t=kotlin academy&#39;s trouble"><i class="fab fa-hacker-news fa-lg" aria-hidden="true"></i></a></li>
</ul>

    </div>

    <div id="actions-footer">
        <a id="menu" class="icon" href="#" onclick="$('#nav-footer').toggle();return false;"><i class="fa-solid fa-bars fa-lg" aria-hidden="true"></i> 菜单</a>
        
          <a id="toc" class="icon" href="#" onclick="$('#toc-footer').toggle();return false;"><i class="fa-solid fa-list fa-lg" aria-hidden="true"></i> 目录</a>
        
        <a id="share" class="icon" href="#" onclick="$('#share-footer').toggle();return false;"><i class="fa-solid fa-share-alt fa-lg" aria-hidden="true"></i> 分享</a>
        <a id="top" style="display:none" class="icon" href="#" onclick="$('html, body').animate({ scrollTop: 0 }, 'fast');"><i class="fa-solid fa-chevron-up fa-lg" aria-hidden="true"></i> 返回顶部</a>
    </div>

  </div>
</div>

        
        <footer id="footer">
  <div class="footer-left">
    Copyright &copy;
    
    
    2016-2024
    LouisShark
  </div>
  <div class="footer-right">
    <nav>
      <ul>
        <!--
       --><li><a href="/">首页</a></li><!--
     --><!--
       --><li><a href="/about/">关于</a></li><!--
     --><!--
       --><li><a href="/archives/">归档</a></li><!--
     --><!--
       --><li><a href="/tags/">标签</a></li><!--
     --><!--
       --><li><a href="/search/">搜索</a></li><!--
     --><!--
       --><li><a href="https://github.com/LouisShark">项目</a></li><!--
     --><!--
       --><li><a href="https://chat.ilouis.me/">ChatGPT</a></li><!--
     -->
      </ul>
    </nav>
  </div>
</footer>

    </div>
    <!-- styles -->



  <link rel="preload" as="style" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css" crossorigin="anonymous" onload="this.onload=null;this.rel='stylesheet'"/>


    <!-- jquery -->

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.6.0/jquery.min.js" crossorigin="anonymous"></script>




<!-- clipboard -->

  
    <script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.7/clipboard.min.js" crossorigin="anonymous"></script>
  
  <script type="text/javascript">
  $(function() {
    // copy-btn HTML
    var btn = "<span class=\"btn-copy tooltipped tooltipped-sw\" aria-label=\"复制到粘贴板！\">";
    btn += '<i class="fa-regular fa-clone"></i>';
    btn += '</span>';
    // mount it!
    $(".highlight table").before(btn);
    var clip = new ClipboardJS('.btn-copy', {
      text: function(trigger) {
        return Array.from(trigger.nextElementSibling.querySelectorAll('.code')).reduce((str,it)=>str+it.innerText+'\n','')
      }
    });
    clip.on('success', function(e) {
      e.trigger.setAttribute('aria-label', "复制成功！");
      e.clearSelection();
    })
  })
  </script>


<script src="/js/main.js"></script>

<!-- search -->

<!-- Baidu Analytics -->

<!-- Cloudflare Analytics -->

<!-- Disqus Comments -->

    <script type="text/javascript">
        var disqus_shortname = 'LouisShark';

        (function(){
            var dsq = document.createElement('script');
            dsq.type = 'text/javascript';
            dsq.async = true;
            dsq.src = '//' + disqus_shortname + '.disqus.com/embed.js';
            (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
        }());
    </script>

<!-- utterances Comments -->

</body>
</html>
